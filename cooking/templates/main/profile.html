<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>User Profile - Recipe Roster</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='base.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='profile.css') }}">
</head>
<body>
    <!-- Include the common header from base.html -->
    {% include 'base.html' %}

    <!-- Profile Content -->
    <section class="profile-content">
        <div class="user-info">
            <div class="user-details">
                <h2> <b>Username: {{ user.username }} </b></h2>
                <p><b>Member of Recipe Roster since: {{ user.timestamp }}</b></p>
            </div>
            <!-- Not sure if Uri used JS or a controller to handle creating a new recipe.
                 No functionality implemented here yet for creating a new recipe. -->
            <div class="create-recipe-btn">
                <button class="button" onclick="openCreateRecipeWindow()">Create Recipe</button>
            </div>
        </div>

        <div class="recipes-created">
            <h3>Recipes You've Created</h3>
            {% for recipe in user.recipes %}
                <div class="recipe">
                    <!-- We can add the recipe photo here and use some css to make it nice also-->
                    <div class="recipe-info">
                        <h4><b> Recipe: </b>{{ recipe.title }}</h4>
                        <p><b> Description: </b>{{ recipe.description }}</p>
                        <p><b> Cook Time: </b>: {{ recipe.cook_time }}</p>
                    </div>
                </div>
            {% endfor %}
        </div>

        <div class="bookmarked-recipes">
            <h3>Bookmarked Recipes</h3>
            <!-- Display the user's bookmarked recipes here -->
            {% for b_recipe in user.bookmarks %}
                <div class="recipe">
                <!-- We can add the recipe photo here and use some css to make it nice also-->
                <div class="recipe-info">
                    <h4><b> Bookmarked Recipe: </b>{{ b_recipe.recipe.title }}</h4>
                    <p><b> Description: </b>{{ b_recipe.recipe.description }}</p>
                    <p><b> Cook Time: </b>: {{ b_recipe.recipe.cook_time }}</p>
                </div>
            {% endfor %}
        </div>

        <div class="user-photos">
            <h3>Photo's you've uploaded for recipe's</h3>
            {% for photo in user.photos %}
                <img src="{{ url_for('static', filename='photos/photo-' ~ photo.id ~ '.' ~ photo.file_extension) }}" alt="photo">
            {% endfor %}
        </div>

    </section>
    <footer><small>Developed for Web Applications course at UC3M</small></footer>
</body>
</html>
